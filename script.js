const net = new brain.NeuralNetwork()

const data = [{
    "input": {
        "r": 0,
        "g": 0,
        "b": 0
    },
    "output": [1]
}, {
    "input": {
        "r": 1,
        "g": 1,
        "b": 1
    },
    "output": [0]
}, {
    "input": {
        "r": 0.4790962484540833,
        "g": 0.7644518297689735,
        "b": 0.6615035173492707
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6057940751368825,
        "g": 0.5255379865746591,
        "b": 0.9489931677744229
    },
    "output": [0]
}, {
    "input": {
        "r": 0.2589683191534773,
        "g": 0.669468604894931,
        "b": 0.10890542972241313
    },
    "output": [1]
}, {
    "input": {
        "r": 0.24976525379435288,
        "g": 0.19460761371045598,
        "b": 0.7680888228211099
    },
    "output": [1]
}, {
    "input": {
        "r": 0.5660850033543802,
        "g": 0.883680335831952,
        "b": 0.8810850278985609
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8134478447505907,
        "g": 0.8951720164930637,
        "b": 0.6994381984319803
    },
    "output": [0]
}, {
    "input": {
        "r": 0.04364295767030779,
        "g": 0.4961847517594554,
        "b": 0.8643433783420331
    },
    "output": [0]
}, {
    "input": {
        "r": 0.2418245906567541,
        "g": 0.09833922318209964,
        "b": 0.9338618701150481
    },
    "output": [1]
}, {
    "input": {
        "r": 0.748560127572092,
        "g": 0.15377002814218577,
        "b": 0.8810836601330143
    },
    "output": [0]
}, {
    "input": {
        "r": 0.2418417447682717,
        "g": 0.9280473203322657,
        "b": 0.22750971313229884
    },
    "output": [0]
}, {
    "input": {
        "r": 0.1851656254099967,
        "g": 0.6599456347224119,
        "b": 0.26667451969896816
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5612829590953298,
        "g": 0.2937963512806062,
        "b": 0.4650881981839804
    },
    "output": [1]
}, {
    "input": {
        "r": 0.8925763073294792,
        "g": 0.8847215418498511,
        "b": 0.25029411172606053
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6514288940426368,
        "g": 0.9706740144782602,
        "b": 0.6923508704791048
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7931474846971939,
        "g": 0.15155551563620584,
        "b": 0.9670246839002684
    },
    "output": [1]
}, {
    "input": {
        "r": 0.0024750299656808306,
        "g": 0.029075952831201346,
        "b": 0.979820399735528
    },
    "output": [1]
}, {
    "input": {
        "r": 0.7234265249533325,
        "g": 0.49873365869545616,
        "b": 0.25106340238531655
    },
    "output": [0]
}, {
    "input": {
        "r": 0.0802012457616954,
        "g": 0.2982540823847246,
        "b": 0.023117232879452
    },
    "output": [1]
}, {
    "input": {
        "r": 0.31903078712957944,
        "g": 0.8858684263307783,
        "b": 0.8680613003241826
    },
    "output": [0]
}, {
    "input": {
        "r": 0.021668904686639845,
        "g": 0.1224601300751682,
        "b": 0.1644376964918356
    },
    "output": [1]
}, {
    "input": {
        "r": 0.058272017198516046,
        "g": 0.5185634500832287,
        "b": 0.30964803305070154
    },
    "output": [1]
}, {
    "input": {
        "r": 0.2851876232952194,
        "g": 0.946470929748946,
        "b": 0.34382655686076846
    },
    "output": [0]
}, {
    "input": {
        "r": 0.01214079294701742,
        "g": 0.48987720881880303,
        "b": 0.13712901683910594
    },
    "output": [1]
}, {
    "input": {
        "r": 0.524603876247997,
        "g": 0.8323275039745863,
        "b": 0.15904582759667985
    },
    "output": [0]
}, {
    "input": {
        "r": 0.36620720726940525,
        "g": 0.8580470126572105,
        "b": 0.7684197453517684
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8111914883148674,
        "g": 0.02662359925120461,
        "b": 0.12144379285838047
    },
    "output": [1]
}, {
    "input": {
        "r": 0.40206539001158415,
        "g": 0.6612536553941479,
        "b": 0.35780277137043315
    },
    "output": [0]
}, {
    "input": {
        "r": 0.39410432958622377,
        "g": 0.8529485325709667,
        "b": 0.7516281926764765
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5050030945660987,
        "g": 0.48920672294530254,
        "b": 0.9890714870269729
    },
    "output": [0]
}, {
    "input": {
        "r": 0.06997301351771879,
        "g": 0.09659046708945229,
        "b": 0.9184017863579998
    },
    "output": [1]
}, {
    "input": {
        "r": 0.38885969340565096,
        "g": 0.04026888114753158,
        "b": 0.11176086047227018
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9841629758594724,
        "g": 0.7789283890106498,
        "b": 0.24511233498570673
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5464688882398827,
        "g": 0.9579947141620664,
        "b": 0.7028876079252542
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8550678666463074,
        "g": 0.7207483679424201,
        "b": 0.03660734876644789
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8435308546583922,
        "g": 0.4792414933739684,
        "b": 0.0009379107028207878
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5042116976376065,
        "g": 0.7419864148215533,
        "b": 0.45507270155424573
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6462672451006578,
        "g": 0.6977018012351401,
        "b": 0.594960086986345
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8011783286940043,
        "g": 0.14764691182124845,
        "b": 0.15247090810741715
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9365691089065714,
        "g": 0.23115349853712375,
        "b": 0.2190156328751902
    },
    "output": [0]
}, {
    "input": {
        "r": 0.03709627381864,
        "g": 0.5895339907426822,
        "b": 0.6496549916856584
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5788842720521752,
        "g": 0.9695444028491381,
        "b": 0.5924167109692307
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8117166621426124,
        "g": 0.7848551732467792,
        "b": 0.08944802426651
    },
    "output": [0]
}, {
    "input": {
        "r": 0.4606981502510138,
        "g": 0.4122540155342367,
        "b": 0.8753720108516088
    },
    "output": [1]
}, {
    "input": {
        "r": 0.2964875617832984,
        "g": 0.12037526840048585,
        "b": 0.8612813941348177
    },
    "output": [1]
}, {
    "input": {
        "r": 0.8065202333759267,
        "g": 0.9528843853261132,
        "b": 0.1535698267592891
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8133717579972807,
        "g": 0.7162274721915897,
        "b": 0.1563856117228778
    },
    "output": [0]
}, {
    "input": {
        "r": 0.9463559342367559,
        "g": 0.14445674221493465,
        "b": 0.1599528951888577
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9747028850297266,
        "g": 0.6907944754456848,
        "b": 0.06247566584389841
    },
    "output": [0]
}, {
    "input": {
        "r": 0.43544884404698225,
        "g": 0.7457213366607118,
        "b": 0.6592344481016116
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6231308353053225,
        "g": 0.11130142254796616,
        "b": 0.6815852490967781
    },
    "output": [1]
}, {
    "input": {
        "r": 0.6426172126285425,
        "g": 0.4455931105447206,
        "b": 0.6959519741023188
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6755083900530522,
        "g": 0.7752825281493159,
        "b": 0.19669535562788176
    },
    "output": [0]
}, {
    "input": {
        "r": 0.580983686143252,
        "g": 0.1250328539250377,
        "b": 0.14347653851679154
    },
    "output": [1]
}, {
    "input": {
        "r": 0.6289741490143419,
        "g": 0.3063232462390715,
        "b": 0.2477734156501864
    },
    "output": [1]
}, {
    "input": {
        "r": 0.8122546826014982,
        "g": 0.8831956641502041,
        "b": 0.16987398762768136
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6978406423292259,
        "g": 0.7038913273222347,
        "b": 0.35073072975594455
    },
    "output": [0]
}, {
    "input": {
        "r": 0.16790994795571823,
        "g": 0.4128096947435138,
        "b": 0.4785683597179441
    },
    "output": [1]
}, {
    "input": {
        "r": 0.2796913868379707,
        "g": 0.17697109652961018,
        "b": 0.4906135212455198
    },
    "output": [1]
}, {
    "input": {
        "r": 0.16028058146123803,
        "g": 0.1627699987408594,
        "b": 0.9687782916522298
    },
    "output": [1]
}, {
    "input": {
        "r": 0.04076667078731566,
        "g": 0.408738161383124,
        "b": 0.7434816637703241
    },
    "output": [1]
}, {
    "input": {
        "r": 0.16000084056294428,
        "g": 0.6409077080086271,
        "b": 0.8795635581605997
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7041055189007333,
        "g": 0.4879894693385377,
        "b": 0.5984913323117129
    },
    "output": [0]
}, {
    "input": {
        "r": 0.32045407543505233,
        "g": 0.2970999871983735,
        "b": 0.03134894588367887
    },
    "output": [1]
}, {
    "input": {
        "r": 0.03451982970310086,
        "g": 0.9779213361555521,
        "b": 0.6353253063852096
    },
    "output": [0]
}, {
    "input": {
        "r": 0.9072808510648416,
        "g": 0.3191475742771649,
        "b": 0.879498948353671
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6725142353751163,
        "g": 0.8245650896321561,
        "b": 0.26099197267129826
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6164534654054372,
        "g": 0.7545764807062048,
        "b": 0.5994630843723413
    },
    "output": [0]
}, {
    "input": {
        "r": 0.27896856794550173,
        "g": 0.8517636690546607,
        "b": 0.48800982310031393
    },
    "output": [0]
}, {
    "input": {
        "r": 0.1625155692369291,
        "g": 0.7759918170333951,
        "b": 0.7042445101167357
    },
    "output": [0]
}, {
    "input": {
        "r": 0.05075507171990279,
        "g": 0.2215547121756657,
        "b": 0.719346172552659
    },
    "output": [1]
}, {
    "input": {
        "r": 0.37889987347467824,
        "g": 0.5893921681104028,
        "b": 0.7533125507817814
    },
    "output": [0]
}, {
    "input": {
        "r": 0.2803635613483374,
        "g": 0.21139593484344532,
        "b": 0.9305008119902246
    },
    "output": [1]
}, {
    "input": {
        "r": 0.10083198954674166,
        "g": 0.23676821982731344,
        "b": 0.4375259249171741
    },
    "output": [1]
}, {
    "input": {
        "r": 0.2757032109063081,
        "g": 0.3592139333108638,
        "b": 0.13124527748988046
    },
    "output": [1]
}, {
    "input": {
        "r": 0.14201722869477684,
        "g": 0.810643536176419,
        "b": 0.8172448982396329
    },
    "output": [0]
}, {
    "input": {
        "r": 0.15105841540697063,
        "g": 0.9230396794960509,
        "b": 0.9102327171575716
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8296842490679692,
        "g": 0.328869633139958,
        "b": 0.42247131647098146
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5181035622206532,
        "g": 0.3292408563102567,
        "b": 0.8728541095841347
    },
    "output": [0]
}, {
    "input": {
        "r": 0.017245237054047236,
        "g": 0.11657736288587184,
        "b": 0.575531448785808
    },
    "output": [1]
}, {
    "input": {
        "r": 0.7484659022933371,
        "g": 0.9579072831516817,
        "b": 0.14460616090745393
    },
    "output": [0]
}, {
    "input": {
        "r": 0.88240814192236,
        "g": 0.1541977682749257,
        "b": 0.2719996436560884
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9903760279820697,
        "g": 0.11121844377097778,
        "b": 0.9062483075783339
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8686093264183263,
        "g": 0.9083786045030192,
        "b": 0.6884215503428726
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7647010026670691,
        "g": 0.5541255949698356,
        "b": 0.7447733458504499
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7893141173844814,
        "g": 0.8888529104470894,
        "b": 0.8332377896417349
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7036793189983673,
        "g": 0.18063129294030422,
        "b": 0.3890196488112596
    },
    "output": [1]
}, {
    "input": {
        "r": 0.8188464272168884,
        "g": 0.8267185995286077,
        "b": 0.21959332654176467
    },
    "output": [0]
}, {
    "input": {
        "r": 0.6362529392059681,
        "g": 0.8125374824048993,
        "b": 0.6887290364219226
    },
    "output": [0]
}, {
    "input": {
        "r": 0.20130885234547857,
        "g": 0.1660611167025725,
        "b": 0.014529947319146252
    },
    "output": [1]
}, {
    "input": {
        "r": 0.19921181363286844,
        "g": 0.21318652759257728,
        "b": 0.32842136806022737
    },
    "output": [1]
}, {
    "input": {
        "r": 0.39596606219358244,
        "g": 0.19263776289248413,
        "b": 0.8541872254913616
    },
    "output": [1]
}, {
    "input": {
        "r": 0.24594273406381362,
        "g": 0.06553324477577194,
        "b": 0.02065623404442707
    },
    "output": [1]
}, {
    "input": {
        "r": 0.29503423394846684,
        "g": 0.21069647390084756,
        "b": 0.4756801014940254
    },
    "output": [1]
}, {
    "input": {
        "r": 0.19666787011985132,
        "g": 0.5700734553270982,
        "b": 0.7195869399413013
    },
    "output": [0]
}, {
    "input": {
        "r": 0.31563050784475577,
        "g": 0.48935923565001105,
        "b": 0.7878775236934812
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9890706228751767,
        "g": 0.5297331754912125,
        "b": 0.7494997581575285
    },
    "output": [0]
}, {
    "input": {
        "r": 0.27428920696350345,
        "g": 0.30950359056839694,
        "b": 0.4036549137907729
    },
    "output": [1]
}, {
    "input": {
        "r": 0.8624675229620362,
        "g": 0.35918594684942784,
        "b": 0.5369712692980523
    },
    "output": [0]
}, {
    "input": {
        "r": 0.007159400400706062,
        "g": 0.9878309127872303,
        "b": 0.5780916134370929
    },
    "output": [0]
}, {
    "input": {
        "r": 0.26932345193760676,
        "g": 0.611891714902845,
        "b": 0.7067995000123455
    },
    "output": [0]
}, {
    "input": {
        "r": 0.3333165788373792,
        "g": 0.8154397264969896,
        "b": 0.8692153034400829
    },
    "output": [0]
}, {
    "input": {
        "r": 0.4007592944415125,
        "g": 0.10975908911429577,
        "b": 0.08697676272318067
    },
    "output": [1]
}, {
    "input": {
        "r": 0.19559977165823383,
        "g": 0.08149728223289032,
        "b": 0.19985118315601613
    },
    "output": [1]
}, {
    "input": {
        "r": 0.8705703819179326,
        "g": 0.4140235522766389,
        "b": 0.006357415863791571
    },
    "output": [0]
}, {
    "input": {
        "r": 0.31326985938035923,
        "g": 0.4335649903990204,
        "b": 0.20796034647039774
    },
    "output": [1]
}, {
    "input": {
        "r": 0.02708587774773974,
        "g": 0.019332976651945222,
        "b": 0.18779479795426157
    },
    "output": [1]
}, {
    "input": {
        "r": 0.03069341990014185,
        "g": 0.9031125017065904,
        "b": 0.07002868738231605
    },
    "output": [0]
}, {
    "input": {
        "r": 0.4081329860231627,
        "g": 0.5068172264849532,
        "b": 0.5002946707130429
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9433057373995544,
        "g": 0.5596062137167965,
        "b": 0.6936034736800809
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9752436771388303,
        "g": 0.6892009690576524,
        "b": 0.6550102020357268
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8865894010161434,
        "g": 0.17876274894279132,
        "b": 0.2171844966035822
    },
    "output": [1]
}, {
    "input": {
        "r": 0.41898306930683993,
        "g": 0.7456385498547955,
        "b": 0.07952967578638415
    },
    "output": [0]
}, {
    "input": {
        "r": 0.8338967517993509,
        "g": 0.1757007968464881,
        "b": 0.2876653030935554
    },
    "output": [1]
}, {
    "input": {
        "r": 0.5054846802500841,
        "g": 0.7627549478606949,
        "b": 0.9343564032490732
    },
    "output": [0]
}, {
    "input": {
        "r": 0.9229686765992199,
        "g": 0.5200371866597273,
        "b": 0.2452369276042119
    },
    "output": [0]
}, {
    "input": {
        "r": 0.617831571250653,
        "g": 0.9371639256526507,
        "b": 0.218367464190255
    },
    "output": [0]
}, {
    "input": {
        "r": 0.09805997283640122,
        "g": 0.9324004812373938,
        "b": 0.5486040712574373
    },
    "output": [0]
}, {
    "input": {
        "r": 0.5062834422348501,
        "g": 0.460436416726005,
        "b": 0.5927535435046922
    },
    "output": [1]
}, {
    "input": {
        "r": 0.7809327415268671,
        "g": 0.07102198763313361,
        "b": 0.5062210052027998
    },
    "output": [1]
}, {
    "input": {
        "r": 0.813129410549282,
        "g": 0.8625786199600328,
        "b": 0.9318226252557199
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7829399791971855,
        "g": 0.8385460268225859,
        "b": 0.49564383032619685
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7567479685532756,
        "g": 0.45654725337236524,
        "b": 0.7628182625066136
    },
    "output": [0]
}, {
    "input": {
        "r": 0.39508396002282464,
        "g": 0.525455654202058,
        "b": 0.6631762763739105
    },
    "output": [1]
}, {
    "input": {
        "r": 0.6518454430421932,
        "g": 0.05972127454303633,
        "b": 0.24172267663772273
    },
    "output": [1]
}, {
    "input": {
        "r": 0.7947215751281672,
        "g": 0.6474472819641467,
        "b": 0.08223906923590729
    },
    "output": [0]
}, {
    "input": {
        "r": 0.3486391715708168,
        "g": 0.44878658972979324,
        "b": 0.8104281723166556
    },
    "output": [1]
}, {
    "input": {
        "r": 0.5803795969931936,
        "g": 0.024666058091530885,
        "b": 0.5098820967973283
    },
    "output": [1]
}, {
    "input": {
        "r": 0.6032351470455849,
        "g": 0.13537152209084435,
        "b": 0.6005973025276405
    },
    "output": [1]
}, {
    "input": {
        "r": 0.14128653678399639,
        "g": 0.9466387861867197,
        "b": 0.18692723993908655
    },
    "output": [0]
}, {
    "input": {
        "r": 0.9337877331173764,
        "g": 0.5666453444996634,
        "b": 0.5221763243550519
    },
    "output": [0]
}, {
    "input": {
        "r": 0.3713743975204902,
        "g": 0.3683666456682,
        "b": 0.7272915530310237
    },
    "output": [1]
}, {
    "input": {
        "r": 0.5366516070874999,
        "g": 0.06152008488669691,
        "b": 0.557014746272408
    },
    "output": [1]
}, {
    "input": {
        "r": 0.623878558952857,
        "g": 0.4534410416073793,
        "b": 0.25282174131875257
    },
    "output": [1]
}, {
    "input": {
        "r": 0.6653256044435722,
        "g": 0.8599401105325946,
        "b": 0.2743049345779026
    },
    "output": [0]
}, {
    "input": {
        "r": 0.9254615047122646,
        "g": 0.9554089993217941,
        "b": 0.24571017580090282
    },
    "output": [0]
}, {
    "input": {
        "r": 0.7217616671702141,
        "g": 0.6990076286633914,
        "b": 0.9020660063259537
    },
    "output": [0]
}, {
    "input": {
        "r": 0.2024120591904508,
        "g": 0.4398336240571501,
        "b": 0.6905093326196904
    },
    "output": [1]
}, {
    "input": {
        "r": 0.6442783779683724,
        "g": 0.0685605908538558,
        "b": 0.6646972417491863
    },
    "output": [1]
}, {
    "input": {
        "r": 0.5320355259871787,
        "g": 0.5132139396499567,
        "b": 0.5056407032462972
    },
    "output": [1]
}, {
    "input": {
        "r": 0.4451689140418441,
        "g": 0.34316728331481394,
        "b": 0.38667733652119984
    },
    "output": [1]
}, {
    "input": {
        "r": 0.9517874618712322,
        "g": 0.185169869320572,
        "b": 0.6942363409289561
    },
    "output": [0]
}]

net.train(data)

const colorEl = document.getElementById("color")
const guessEl = document.getElementById("guess")
const whiteButton = document.getElementById("white-button")
const blackButton = document.getElementById("black-button")
const printButton = document.getElementById("print-button")
let color
setRandomColor()

whiteButton.addEventListener("click", () => {
    chooseColor(1)
})

blackButton.addEventListener("click", () => {
    chooseColor(0)
})

printButton.addEventListener("click", print)

function chooseColor(value) {
    data.push({
        input: color,
        output: [value]
    })
    setRandomColor()
}

function print() {
    console.log(JSON.stringify(data))
}

function setRandomColor() {
    color = {
        r: Math.random(),
        g: Math.random(),
        b: Math.random()
    }
    const guess = net.run(color)[0]
    guessEl.style.color = guess > .5 ? "#FFF" : "#000"
    colorEl.style.backgroundColor =
        `rgba(${color.r * 255}, ${color.g * 255}, ${color.b * 255})`
}